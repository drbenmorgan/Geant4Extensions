#!/bin/csh

#--------------------------------------------------------------------------
# C shell family environment setup script for Geant4 @Geant4_VERSION@
# 
# This script will configure your environment so that any Geant4 supplied
# tools, libraries and data are available in your PATH, library paths etc.
# Data libraries will only be setup if they were installed as part of the
# Geant4 installation.
#
# Source this script to perform the setup. Note that due to a limitation
# of the C shell, you need to perform a special operation if you
# source this script inside another.
#
# This script is autogenerated by CMake DO NOT EDIT
#

#--------------------------------------------------------------------------
# Locate the directory we're installed in
# If sourced interactively, we can use $_ as this should be
#
#  source path_to_g4script_dir/geant4.csh
#
set ARGS=($_)
if ("$ARGS" != "") then
  set g4script_sourced_dir="`dirname ${ARGS[2]}`"
else
  # Oh great, we were sourced non-interactively, so $_ won't be set
  # We need an external source of information on where the script is
  # located. We obtain this in one of two ways
  #  1) Sourcing script from its directory:
  #    cd g4script_dir ; source geant4.csh
  #  2) Directory supplied as argument to script:
  #    source g4script_dir/geant4.csh g4script_dir
  #
  if ( -e geant4.csh ) then
    set g4script_sourced_dir="`pwd`"
  else if ( "$1" != "" ) then
    if ( -e ${1}/geant4.csh ) then
      set g4script_sourced_dir="$1"
    else
      echo "geant4.csh:ERROR: ${1} does not contain geant4.csh"
    endif
  else
    set g4script_sourced_dir=""
    echo "geant4.csh:ERROR: could not locate Geant4 installation because"
    echo "geant4.csh was sourced (i.e. embedded) in another script."
    echo "This issue is specific to (t)csh, where you need to use either:"
    echo "  cd where_script_is ; source geant4.csh"
    echo "or:"
    echo "  source where_script_is/geant4.csh where_script_is"
  endif
endif

#-----------------------------------------------------------------------
# Derive and set the binary and library paths, but only if we found Geant4
# Path variables are prepended so that this Geant4 will be found first.
#
if (${?g4script_sourced_dir}) then
  set g4script_dir="`cd $g4script_sourced_dir > /dev/null ; pwd`"
  set g4bindir=$g4script_dir
  set g4libdir="`cd $g4bindir/@GEANT4_BINDIR_TO_LIBDIR@ > /dev/null ; pwd`"

  if ( ! ${?PATH} ) then
    echo PATH ${g4bindir}
  else
    echo PATH ${g4bindir}:$PATH
  endif

  if ( ! ${?@PLATFORM_LD_LIBRARY_PATH_NAME@} ) then
    echo @PLATFORM_LD_LIBRARY_PATH_NAME@ ${g4libdir}
  else
    echo @PLATFORM_LD_LIBRARY_PATH_NAME@ ${g4libdir}:$@PLATFORM_LD_LIBRARY_PATH_NAME@
  endif

  #--------------------------------------------------------------------
  # Geant4 Physics Data resource paths.
  # These paths are only set if CMake was used to install the resources
  #resources

endif

